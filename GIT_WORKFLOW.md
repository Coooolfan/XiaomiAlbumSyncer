# Git åˆ†æ”¯å¼€å‘å·¥ä½œæµæŒ‡å—

## ğŸ“‹ ä»“åº“é…ç½®

### è¿œç¨‹ä»“åº“
- **origin**: `https://github.com/Acckion/XiaomiAlbumSyncer` (ä½ çš„ fork)
- **upstream**: `https://github.com/Coooolfan/XiaomiAlbumSyncer.git` (åŸå§‹ä»“åº“)

### åˆ†æ”¯ç»“æ„
```
main        - ä¿æŒä¸ä¸Šæ¸¸åŒæ­¥ï¼Œä¸ç›´æ¥åœ¨æ­¤å¼€å‘
develop     - ä¸»å¼€å‘åˆ†æ”¯ï¼Œæ‰€æœ‰åŠŸèƒ½å¼€å‘çš„åŸºç¡€
feature/*   - åŠŸèƒ½åˆ†æ”¯ï¼Œä» develop åˆ›å»º
```

## ğŸš€ æ—¥å¸¸å¼€å‘æµç¨‹

### 1. å¼€å§‹æ–°åŠŸèƒ½å¼€å‘

```bash
# ç¡®ä¿åœ¨ develop åˆ†æ”¯
git checkout develop

# æ‹‰å–æœ€æ–°ä»£ç 
git pull origin develop

# åˆ›å»ºæ–°çš„åŠŸèƒ½åˆ†æ”¯ï¼ˆæ ¹æ®åŠŸèƒ½ç±»å‹é€‰æ‹©å‰ç¼€ï¼‰
git checkout -b feature/ä½ çš„åŠŸèƒ½åç§°
# æˆ–
git checkout -b fix/ä¿®å¤çš„é—®é¢˜
# æˆ–
git checkout -b refactor/é‡æ„å†…å®¹
```

### 2. å¼€å‘è¿‡ç¨‹ä¸­

```bash
# æŸ¥çœ‹ä¿®æ”¹çŠ¶æ€
git status

# æ·»åŠ ä¿®æ”¹çš„æ–‡ä»¶
git add .
# æˆ–æ·»åŠ ç‰¹å®šæ–‡ä»¶
git add æ–‡ä»¶è·¯å¾„

# æäº¤ä¿®æ”¹ï¼ˆä½¿ç”¨æ¸…æ™°çš„æäº¤ä¿¡æ¯ï¼‰
git commit -m "feat: æ·»åŠ äº†æŸæŸåŠŸèƒ½"
# æˆ–
git commit -m "fix: ä¿®å¤äº†æŸæŸé—®é¢˜"
# æˆ–
git commit -m "refactor: é‡æ„äº†æŸæŸæ¨¡å—"

# æ¨é€åˆ°è¿œç¨‹ï¼ˆé¦–æ¬¡æ¨é€éœ€è¦ -uï¼‰
git push -u origin feature/ä½ çš„åŠŸèƒ½åç§°
# åç»­æ¨é€
git push
```

### 3. å®ŒæˆåŠŸèƒ½å¼€å‘

```bash
# åˆ‡æ¢å› develop åˆ†æ”¯
git checkout develop

# åˆå¹¶åŠŸèƒ½åˆ†æ”¯
git merge feature/ä½ çš„åŠŸèƒ½åç§°

# æ¨é€åˆ°è¿œç¨‹
git push origin develop

# åˆ é™¤æœ¬åœ°åŠŸèƒ½åˆ†æ”¯ï¼ˆå¯é€‰ï¼‰
git branch -d feature/ä½ çš„åŠŸèƒ½åç§°

# åˆ é™¤è¿œç¨‹åŠŸèƒ½åˆ†æ”¯ï¼ˆå¯é€‰ï¼‰
git push origin --delete feature/ä½ çš„åŠŸèƒ½åç§°
```

## ğŸ”„ åŒæ­¥ä¸Šæ¸¸æ›´æ–°

### å®šæœŸåŒæ­¥åŸå§‹ä»“åº“çš„æ›´æ–°

```bash
# 1. åˆ‡æ¢åˆ° main åˆ†æ”¯
git checkout main

# 2. ä»ä¸Šæ¸¸æ‹‰å–æœ€æ–°ä»£ç 
git fetch upstream

# 3. åˆå¹¶ä¸Šæ¸¸çš„ main åˆ†æ”¯
git merge upstream/main

# 4. æ¨é€åˆ°ä½ çš„ fork
git push origin main

# 5. å°†æ›´æ–°åˆå¹¶åˆ° develop
git checkout develop
git merge main

# 6. æ¨é€ develop
git push origin develop
```

### å¦‚æœä½ çš„åŠŸèƒ½åˆ†æ”¯éœ€è¦æœ€æ–°çš„ä¸Šæ¸¸ä»£ç 

```bash
# åœ¨ä½ çš„åŠŸèƒ½åˆ†æ”¯ä¸Š
git checkout feature/ä½ çš„åŠŸèƒ½åç§°

# ä» develop åˆå¹¶æœ€æ–°ä»£ç 
git merge develop

# æˆ–ä½¿ç”¨ rebaseï¼ˆä¿æŒæäº¤å†å²æ›´æ¸…æ™°ï¼‰
git rebase develop

# è§£å†³å¯èƒ½çš„å†²çªåæ¨é€
git push origin feature/ä½ çš„åŠŸèƒ½åç§°
```

## ğŸ“ æäº¤ä¿¡æ¯è§„èŒƒ

ä½¿ç”¨è¯­ä¹‰åŒ–çš„æäº¤ä¿¡æ¯ï¼š

- `feat: æ–°åŠŸèƒ½æè¿°` - æ–°å¢åŠŸèƒ½
- `fix: é—®é¢˜æè¿°` - ä¿®å¤ bug
- `refactor: é‡æ„æè¿°` - ä»£ç é‡æ„
- `docs: æ–‡æ¡£æè¿°` - æ–‡æ¡£æ›´æ–°
- `style: æ ·å¼æè¿°` - ä»£ç æ ¼å¼è°ƒæ•´
- `test: æµ‹è¯•æè¿°` - æµ‹è¯•ç›¸å…³
- `chore: æ‚é¡¹æè¿°` - æ„å»ºã€é…ç½®ç­‰

ç¤ºä¾‹ï¼š
```bash
git commit -m "feat: æ·»åŠ æ‰¹é‡ä¸‹è½½è¿›åº¦æ˜¾ç¤ºåŠŸèƒ½"
git commit -m "fix: ä¿®å¤ä¸‹è½½å¤±è´¥æ—¶çš„é”™è¯¯å¤„ç†"
git commit -m "refactor: ä¼˜åŒ–ç›¸å†Œåˆ—è¡¨åŠ è½½é€»è¾‘"
```

## ğŸ” å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

```bash
# æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯
git branch -a

# æŸ¥çœ‹å½“å‰çŠ¶æ€
git status

# æŸ¥çœ‹æäº¤å†å²
git log --oneline --graph

# æŸ¥çœ‹è¿œç¨‹ä»“åº“
git remote -v

# æš‚å­˜å½“å‰ä¿®æ”¹ï¼ˆåˆ‡æ¢åˆ†æ”¯å‰ï¼‰
git stash
# æ¢å¤æš‚å­˜çš„ä¿®æ”¹
git stash pop

# æ’¤é”€æœªæäº¤çš„ä¿®æ”¹
git checkout -- æ–‡ä»¶å
# æˆ–æ’¤é”€æ‰€æœ‰ä¿®æ”¹
git checkout -- .

# æŸ¥çœ‹æŸä¸ªæ–‡ä»¶çš„ä¿®æ”¹
git diff æ–‡ä»¶å
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ä¸è¦ç›´æ¥åœ¨ main åˆ†æ”¯å¼€å‘** - main ç”¨äºåŒæ­¥ä¸Šæ¸¸
2. **åŠŸèƒ½åˆ†æ”¯è¦å°è€Œä¸“æ³¨** - ä¸€ä¸ªåˆ†æ”¯åªåšä¸€ä»¶äº‹
3. **ç»å¸¸æäº¤** - å°æ­¥æäº¤ï¼Œæ–¹ä¾¿å›æ»š
4. **å®šæœŸåŒæ­¥** - é¿å…ä¸ä¸Šæ¸¸å·®å¼‚è¿‡å¤§
5. **è§£å†³å†²çªè¦è°¨æ…** - ç¡®ä¿ç†è§£å†²çªå†…å®¹å†è§£å†³
6. **æ¨é€å‰å…ˆæ‹‰å–** - é¿å…æ¨é€å†²çª

## ğŸ¯ å¿«é€Ÿå¼€å§‹ç¤ºä¾‹

å‡è®¾ä½ è¦æ·»åŠ ä¸€ä¸ª"å¯¼å‡ºç›¸å†Œåˆ—è¡¨"çš„åŠŸèƒ½ï¼š

```bash
# 1. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout develop
git checkout -b feature/export-album-list

# 2. å¼€å‘åŠŸèƒ½...
# ä¿®æ”¹ä»£ç ã€æµ‹è¯•

# 3. æäº¤ä»£ç 
git add .
git commit -m "feat: æ·»åŠ å¯¼å‡ºç›¸å†Œåˆ—è¡¨ä¸º CSV åŠŸèƒ½"

# 4. æ¨é€åˆ°è¿œç¨‹
git push -u origin feature/export-album-list

# 5. å®Œæˆååˆå¹¶åˆ° develop
git checkout develop
git merge feature/export-album-list
git push origin develop

# 6. æ¸…ç†åˆ†æ”¯
git branch -d feature/export-album-list
```

## ğŸ†˜ é‡åˆ°é—®é¢˜ï¼Ÿ

- **æ¨é€è¢«æ‹’ç»**ï¼šå…ˆ `git pull` æ‹‰å–è¿œç¨‹æ›´æ–°
- **åˆå¹¶å†²çª**ï¼šæ‰‹åŠ¨ç¼–è¾‘å†²çªæ–‡ä»¶ï¼Œç„¶å `git add` å’Œ `git commit`
- **è¯¯æäº¤**ï¼šä½¿ç”¨ `git reset HEAD~1` æ’¤é”€æœ€åä¸€æ¬¡æäº¤
- **æƒ³æ”¾å¼ƒæ‰€æœ‰ä¿®æ”¹**ï¼š`git reset --hard HEAD`

---

**è®°ä½**ï¼šGit æ˜¯ä½ çš„æœ‹å‹ï¼Œä¸è¦å®³æ€•å°è¯•ã€‚å¦‚æœæç ¸äº†ï¼Œå‡ ä¹æ€»æœ‰åŠæ³•æ¢å¤ï¼
